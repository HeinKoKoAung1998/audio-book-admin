<div class="row m-2 mb-0">
  <div class="col-12">
    <input type="text" class="form-control" placeholder="Search audios..." [(ngModel)]="searchQuery"
      (input)="searchAudio()" />
  </div>
</div>

<div class="container-fluid">
  <!-- Book Data Card -->

  <div *ngIf="bookData" class="row">
    <div class="col-md-12">
      <div class="card m-2">
        <div class="card-body">
          <div class="row align-items-center">
            <!-- Book Cover Image -->
            <div class="col-12 col-md-3 text-center">
              <img [src]="bookData.cover_image_url" alt="Book Cover" class="img-fluid rounded"
                style="max-height: 200px;">
            </div>
            <!-- Book Details -->
            <div class="col-12 col-md-6 text-center text-md-start mt-3 mt-md-0">
              <h5 class="card-title">{{ bookData.title }}</h5>
              <p class="card-text text-muted">{{ bookData.author }}</p>
              <hr>
              <p>{{bookData.description}}</p>

            </div>
            <!-- Add Audio Button -->
            <div class="col-12 col-md-3 text-center text-md-end mt-3 mt-md-0">
              <button class="btn btn-primary me-5" routerLink="/admin/add-audio/{{ id }}"><i
                  class="fas fa-plus-circle me-2"></i>Add Audios</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!bookData" class="row">
    <div class="col-md-12">
      <div class="card m-2 shadow-sm border-0">
        <div class="card-body p-4">
          <!-- Title and Description -->
          <div class="text-center mb-2">
            <h3 class="card-title fw-bold">All Audios</h3>
            <p class="card-text text-muted">From here you can manage your audio files.</p>
            <button class="btn btn-primary mt-2" routerLink="/admin/add-audio">
              <i class="fa-solid fa-circle-plus me-1"></i> Add New Audios
            </button>
          </div>


        </div>
      </div>
    </div>
  </div>




  <!-- Audio Table -->
  <div class="row">
    <div class="col-md-12">
      <div class="card m-2 mt-0" style="min-height: 350px;">
        <div class="card-body ">


          <div class="table-responsive">
            <caption *ngIf="bookData">Contents</caption>
            <table class="table table-hover mb-0 ">

              <thead class="table-light ">
                <tr>
                  <th scope="col"></th>
                  <th scope="col">Title</th>
                  <th scope="col">Youtube Url</th>
                  <th scope="col" class="text-center">Action</th>
                </tr>
              </thead>



              <tbody *ngIf="bookData">

                <tr *ngFor="let audio of audiosOfBookList">
                  <td></td>
                  <td>{{ audio.title }}</td>
                  <td>
                    <a [href]="audio.youtube_url" target="_blank" class="text-decoration-none">{{ audio.youtube_url
                      }}</a>
                  </td>
                  <td class="text-center">
                    <button class="btn btn-sm btn-warning me-2" routerLink="/admin/update-audio/{{ audio.audio_id }}"><i
                        class="fa-solid fa-pen-to-square"></i></button>
                    <button class="btn btn-sm btn-danger me-2" (click)="deleteItem(audio.audio_id)"><i
                        class="fa-solid fa-trash-can"></i></button>

                  </td>
                </tr>
              </tbody>

              <tbody *ngIf="!bookData">

                <tr *ngFor="let audio of allAudiosList">
                  <td></td>
                  <td>{{ audio.title }}</td>
                  <td>
                    <a [href]="audio.youtube_url" target="_blank" class="text-decoration-none">{{ audio.youtube_url
                      }}</a>
                  </td>
                  <td class="text-center">
                    <button class="btn btn-sm btn-warning me-2" routerLink="/admin/update-audio/{{ audio.audio_id }}"><i
                        class="fa-solid fa-pen-to-square"></i></button>
                    <button class="btn btn-sm btn-danger me-2" (click)="deleteItem(audio.audio_id)"><i
                        class="fa-solid fa-trash-can"></i></button>

                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>