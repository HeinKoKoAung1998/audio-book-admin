<div class="card m-2 p-4" style="min-height: 400px;">

    <h4 *ngIf="isAddMode">Add Book Form</h4>
    <h4 *ngIf="!isAddMode">Edit Book Form</h4>
    <form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
      <div class="row mt-4">
        <div class="col-md-2"> <label for="title">Title</label></div>
        <div class="col-md-8"> <input type="text" name="title"  class="form-control" formControlName="title" 
          [ngClass]="{'is-invalid': submitted && f.title.errors}"
            required>
            <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
              <div *ngIf="f.title.errors.required">Name is required</div>
            </div>
          </div>
      
      </div>

      <div class="row mt-3">
        <div class="col-md-2"> <label for="author">Author</label></div>
        <div class="col-md-8"> <input type="text" name="author"  class="form-control" formControlName="author" 
          [ngClass]="{'is-invalid': submitted && f.author.errors}"
            required>
            <div *ngIf="submitted && f.author.errors" class="invalid-feedback">
              <div *ngIf="f.author.errors.required">author is required</div>
            </div>
          </div>
       
      </div>

      <div class="row mt-3">
        <div class="col-md-2"> <label for="title">Description</label></div>
        <div class="col-md-8"> <textarea name="description"  class="form-control" formControlName="description" 
          [ngClass]="{'is-invalid': submitted && f.description.errors}"
            ></textarea>
            <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
              <div *ngIf="f.description.errors.required">Description is required</div>
            </div>
          </div>
      
      </div>

    
      <div class="row mt-3">
         <div class="col-md-2"><label for="">Book Cover</label></div>

        <div class="col-md-4"><input type="file" class="form-control" accept="image/*" (change)="showPreview($event)" formControlName="cover_image_url" ></div>
        <div class="col-md-4"><img style="height: 250px;" [src]="imgSrc" alt="book cover" class="form-control img-fluid img-preview" ></div>
      </div>
       <button type="submit" class="btn btn-primary px-5" [disabled]="addBookForm.invalid"><i class="fa-solid fa-floppy-disk me-2"></i>Save</button>
       <button  class="btn btn-secondary px-3 ms-3" routerLink="/admin/dashboard"> Back </button>
  
    </form>
  
  </div>